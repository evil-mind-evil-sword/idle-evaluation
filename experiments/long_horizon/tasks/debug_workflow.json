{
  "id": "lh-003",
  "name": "Debug and Fix Workflow",
  "description": "Debug a buggy codebase, identify issues, and fix them iteratively",
  "prompt": "Create a buggy Python calculator module, then debug and fix it.\n\nFirst, create calculator.py with these INTENTIONAL bugs:\n```python\nclass Calculator:\n    def __init__(self):\n        self.history = []\n    \n    def add(self, a, b):\n        result = a + b\n        self.history.append(f\"{a} + {b} = {result}\")\n        return result\n    \n    def subtract(self, a, b):\n        result = a + b  # BUG: should be a - b\n        self.history.append(f\"{a} - {b} = {result}\")\n        return result\n    \n    def multiply(self, a, b):\n        result = a * b\n        self.history.append(f\"{a} * {b} = {result}\")\n        return result\n    \n    def divide(self, a, b):\n        result = a / b  # BUG: no zero division check\n        self.history.append(f\"{a} / {b} = {result}\")\n        return result\n    \n    def power(self, base, exp):\n        result = base * exp  # BUG: should be base ** exp\n        self.history.append(f\"{base} ^ {exp} = {result}\")\n        return result\n    \n    def get_history(self):\n        return self.history.copy()  # This is correct\n    \n    def clear_history(self):\n        self.history = None  # BUG: should be []\n```\n\nNow:\n1. Write tests in test_calculator.py that expose all bugs\n2. Run the tests and observe failures\n3. Fix each bug one by one\n4. Re-run tests after each fix\n5. Ensure all tests pass\n\nDocument what you fixed in a FIXES.md file.",
  "expected_steps": 40,
  "success_criteria": [
    "file:calculator.py",
    "file:test_calculator.py",
    "file:FIXES.md",
    "contains:a - b",
    "contains:ZeroDivisionError",
    "contains:base ** exp",
    "contains:= []"
  ]
}
